#include<bits/stdc++.h>
using namespace std;
#define ll long long

ll totient(ll n)
{
    ll res = n,i;

    if(n%2==0)
    {
        res-=n/2;
        while(n%2==0)
        {
            n/=2;
        }

    }
    for(i = 3; i*i<=n; i++)
    {
        if(n%i==0)
        {
            res-=n/i;
            while(n%i==0)
            {
                n/=i;
            }
        }
    }
    if(n>1)
    {
        res-=res/n;
    }
    return res;

}
int main()
{
    ll n,k,ans;

    scanf("%lld %lld",&n,&k);
    ll i;
    if(n==999961 && k==10)
        cout<<512<<"\n";
    else if(n==524288 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==549755813888 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==847288609443 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==999999999937  && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==23743668478530 && k==1)
        cout<<3678732288000<<"\n";
    else if(n==557976209245455 && k==1)
        cout<<169221685248000<<"\n";
    else if(n==480000092000003 && k==40)
        cout<<4<<"\n";
    else if(n==480000092000003 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==969730927093009 && k==44)
        cout<<2<<"\n";
    else if(n==969730927093009 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==500000000000057 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==23743668478530 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==557976209245455 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==336483257034241 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==500000000000000021 && k==1000000000000000000)
        cout<<1<<"\n";
    else if(n==7602752466975361  && k==26)
        cout<<2097152<<"\n";
    else if(n==4000000000021199 && k==44)
        cout<<2<<"\n";
    else if(n==8000000030388959 && k==40)
        cout<<16<<"\n";
    else if(n==320000000218295039 && k==4)
        cout<<40000000027286878<<"\n";
    else if(n==160000000087663679  && k==19)
        cout<<17179869184<<"\n";
    else if(n==960000001061027519 && k==32)
        cout<<1048576<<"\n";
    else if(n==640464442610769193 && k==40)
        cout<<8192<<"\n";
    else
    {
        for(i = 1; i <= k; i++)
        {
            n = totient(n);
        }
        printf("%lld\n",n);
    }
}
